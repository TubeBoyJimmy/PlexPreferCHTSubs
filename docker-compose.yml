# PlexPreferCHTSubs - Docker Compose
#
# Usage:
#   One-shot scan:   docker compose run --rm plexchtsubs --dry-run
#   Service mode:    docker compose up -d
#   View logs:       docker compose logs -f
#   Web UI:          http://localhost:9527
#
# Default: watch mode + web UI (trigger scans from the dashboard).
# Add --schedule to also run periodic cron scans.

services:
  plexchtsubs:
    image: plexchtsubs:latest
    build: .                       # Only used with `docker compose build`
    container_name: plexchtsubs
    restart: unless-stopped
    volumes:
      - type: bind
        source: ./config.yaml
        target: /app/config.yaml
        read_only: true
      - /etc/localtime:/etc/localtime:ro
    ports:
      - "9527:9527"
    # Service mode: watch + web UI (manual scans via dashboard)
    command: ["--watch", "--web"]
